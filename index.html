# Nueva versi√≥n del archivo index.html que incluye:
# - Mostrar coordenadas
# - Bot√≥n para abrir Google Maps
# - Bot√≥n para enviar la ubicaci√≥n por WhatsApp

html_actualizado = """<!DOCTYPE html>
<html>
<head>
  <title>Ubicaci√≥n actual</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="font-family: sans-serif; text-align: center; padding: 40px;">
  <h2>üìç Obteniendo tu ubicaci√≥n...</h2>
  <p id="resultado">Esperando permiso del navegador...</p>

  <script>
    navigator.geolocation.getCurrentPosition(
      function(pos) {
        const lat = pos.coords.latitude.toFixed(6);
        const lon = pos.coords.longitude.toFixed(6);
        const enlaceMaps = `https://maps.google.com/?q=${lat},${lon}`;
        const enlaceWhatsapp = `https://api.whatsapp.com/send?text=üìç%20Mi%20ubicaci%C3%B3n%20es:%20${encodeURIComponent(enlaceMaps)}`;

        document.getElementById("resultado").innerHTML = `
          ‚úÖ Tu ubicaci√≥n es:<br><strong>${lat}, ${lon}</strong><br><br>
          <a href="${enlaceMaps}" target="_blank" style="display: inline-block; margin: 10px; padding: 10px 20px; background: #4CAF50; color: white; text-decoration: none; border-radius: 5px;">üåç Ver en Google Maps</a><br>
          <a href="${enlaceWhatsapp}" target="_blank" style="display: inline-block; margin: 10px; padding: 10px 20px; background: #25D366; color: white; text-decoration: none; border-radius: 5px;">üí¨ Enviar por WhatsApp</a>
        `;
      },
      function(err) {
        document.getElementById("resultado").textContent =
          "‚ùå No se pudo obtener la ubicaci√≥n: " + err.message;
      }
    );
  </script>
</body>
</html>
"""

# Guardar nueva versi√≥n del archivo
ruta_archivo_nuevo = "/mnt/data/index_actualizado.html"
with open(ruta_archivo_nuevo, "w", encoding="utf-8") as f:
    f.write(html_actualizado)

ruta_archivo_nuevo  # Mostrar la ruta de descarga

